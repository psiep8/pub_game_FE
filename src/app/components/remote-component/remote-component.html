<div class="remote-container">

  @if (!nickname()) {
    <div class="setup-screen">
      <h1>Pub Game</h1>
      <p>Inserisci il tuo Nickname per giocare</p>
      <input [(ngModel)]="tempNickname" placeholder="Es: SuperMario88">
      <button (click)="setNickname()" class="join-btn">ENTRA IN PARTITA</button>
    </div>
  } @else {

    <div class="header">
      <div class="player-info">
        <span>Giocatore: <b>{{ nickname() }}</b></span>
      </div>
      <button class="logout-btn" (click)="logout()">
        <span class="icon">√ó</span> Esci
      </button>
    </div>

    <div class="game-content">
      @switch (gameState()) {

        @case ('WAITING') {
          <div class="status-msg">
            <div class="loader"></div>
            <p>In attesa della prossima sfida...</p>
          </div>
        }

        @case ('VOTING') {
          @switch (questionType()) {

            @case ('QUIZ') {
              <div class="voting-grid">
                <button (click)="sendVote(0)" class="vote-btn btn-a">A</button>
                <button (click)="sendVote(1)" class="vote-btn btn-b">B</button>
                <button (click)="sendVote(2)" class="vote-btn btn-c">C</button>
                <button (click)="sendVote(3)" class="vote-btn btn-d">D</button>
              </div>
            }

            @case ('TRUE_FALSE') {
              <div class="voting-grid tf-layout">
                <button (click)="sendVote(0)" class="vote-btn btn-true">VERO</button>
                <button (click)="sendVote(1)" class="vote-btn btn-false">FALSO</button>
              </div>
            }

            @case ('MUSIC') {
              <div class="buzz-layout">
                <button (click)="sendBuzz()" class="buzz-btn">PRENOTA! (AUDIO)</button>
              </div>
            }

            @case ('IMAGE_BLUR') {
              <div class="buzz-layout">
                <button (click)="sendBuzz()" class="buzz-btn blur-theme">CHI √à?</button>
              </div>
            }

<!--            @case ('CHRONO') {-->
<!--              <div class="chrono-layout">-->
<!--                <h3>Scegli l'anno:</h3>-->
<!--                <div class="year-preview">{{ selectedYear }}</div>-->
<!--                <input type="range" min="1900" max="2026" [(ngModel)]="selectedYear" class="chrono-slider">-->
<!--                <button (click)="sendChronoVote()" class="confirm-btn">CONFERMA</button>-->
<!--              </div>-->
<!--            }-->
          }
        }

        @case ('LOCKED') {
          <div class="status-msg locked">
            <p>Prenotazione effettuata! Parla ora üé§</p>
          </div>
        }

        @case ('WAITING_FOR_OTHER') {
          <div class="status-msg others">
            <p>Qualcuno √® stato pi√π veloce! üí®</p>
          </div>
        }

        @case ('BLOCKED_ERROR') {
          <div class="status-msg error">
            <p>Risposta errata! Sei fuori per questo round ‚ùå</p>
          </div>
        }
      }
    </div>
  }
</div>
